<div nz-row class="h-full">
  <div nz-col nzFlex="3" class="flex justify-center items-center">
    <div nz-col nzSpan="12">
      <form
        nz-form
        [formGroup]="changPassForm"
        (ngSubmit)="submitForm()"
      >
        <div nz-row nz-typography nzJustify="center" class="text-5xl text-blue-700 font-medium mb-4">
          {{ 'auth.changPass' | translate }}
        </div>
        <div nz-row nz-typography nzJustify="center" class="text-center text-lg mb-4">
          {{ 'auth.changPassText' | translate }}
        </div>
        <t-pest-base-input-control
          type="text"
          [label]="'auth.code' | translate"
          [control]="$any(changPassForm.get('code'))"
          [validators]="changPassFormValidator.code"
          [placeholder]="'auth.codeEnter' | translate"
          size="large"
        />
        <t-pest-base-input-control
          type="text"
          [label]="'auth.passwordEnterNew' | translate"
          [control]="$any(changPassForm.get('newPass'))"
          [validators]="changPassFormValidator.newPass"
          [placeholder]="'auth.codeEnter' | translate"
          size="large"
          [suffix]="suffixTemplate"
          [type]="passwordVisible ? 'text' : 'password'"
        />
        <ng-template #suffixTemplate>
          <span
            nz-icon
            [nzType]="!passwordVisible ? 'eye-invisible' : 'eye'"
            (click)="passwordVisible = !passwordVisible"
          ></span>
        </ng-template>
        <t-pest-base-input-control
          type="text"
          [label]="'auth.confirmPassword' | translate"
          [control]="$any(changPassForm.get('confirmNewPass'))"
          [validators]="changPassFormValidator.confirmNewPass"
          [placeholder]="'auth.confirmPassword' | translate"
          size="large"
          [suffix]="suffixTemplateConfirm"
          [type]="passwordVisibleConfirm ? 'text' : 'password'"
        />
        <ng-template #suffixTemplateConfirm>
          <span
            nz-icon
            [nzType]="!passwordVisibleConfirm ? 'eye-invisible' : 'eye'"
            (click)="passwordVisibleConfirm = !passwordVisibleConfirm"
          ></span>
        </ng-template>
        <button
          nz-button
          [nzType]="'primary'"
          nzSize="large"
          nzBlock
          [nzLoading]="loading"
          type="submit"
          class="mt-3"
        >
          {{ 'auth.sent' | translate }}
        </button>
        <div nz-row nzJustify="center" class="font-medium mt-9">
          <a [routerLink]="['/login']">{{ 'auth.backLogin' | translate }}</a>
        </div>
      </form>
    </div>
  </div>
  <div nz-col nzFlex="2" class="h-full overflow-hidden flex justify-center items-center">
    <div class="absolute">
      <img nz-image [nzSrc]="'/assets/images/logoWhite.png'" alt="123" />
    </div>
    <div class="w-full h-full">
      <img
        class="w-full h-full"
        nz-image
        [nzSrc]="'/assets/images/banner-logo.png'"
        alt="123"
      />
    </div>
  </div>
  <nz-modal nzCloseIcon="false" [(nzVisible)]="isVisible" nzCentered  nzWrapClassName="modal-footer-forgot">
    <div *nzModalContent class="modal-content-forgot">
      <div class="text-3xl text-blue-700 font-semibold mb-3"> {{ 'global.success' | translate }}</div>
      <img
        nz-image
        [nzSrc]="'/assets/images/icons/success.png'"
        alt="12415"
      />
      <div class="mt-3"> {{ 'auth.changePassSuccess' | translate }}</div>
    </div>
    <div *nzModalFooter class="text-center mb-3">
      <button
        nz-button
        [nzType]="'primary'"
        nzSize="large"
        (click)="handleOk()"
      >
      {{ 'auth.log-in' | translate }}
      </button>
    </div>
  </nz-modal>
</div>
